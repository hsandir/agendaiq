<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theme System Test</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .test-box {
            padding: 20px;
            margin: 10px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
        }
        .css-var {
            background: var(--color-primary, blue);
            color: var(--color-primary-foreground, white);
            padding: 10px;
            margin: 5px 0;
            border-radius: 4px;
        }
        .results {
            font-family: monospace;
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            background: #3b82f6;
            color: white;
            cursor: pointer;
        }
        button:hover {
            background: #2563eb;
        }
    </style>
</head>
<body>
    <h1>Theme System Test Page</h1>
    
    <div class="test-box">
        <h2>CSS Variables Test</h2>
        <div class="css-var">This should use --color-primary</div>
        <div id="css-results" class="results">Checking CSS variables...</div>
    </div>

    <div class="test-box">
        <h2>LocalStorage Test</h2>
        <div id="storage-results" class="results">Checking localStorage...</div>
    </div>

    <div class="test-box">
        <h2>Theme Switch Test</h2>
        <button onclick="setTheme('modern-purple')">Modern Purple</button>
        <button onclick="setTheme('classic-light')">Classic Light</button>
        <button onclick="setTheme('dark-mode')">Dark Mode</button>
        <button onclick="setTheme('high-contrast')">High Contrast</button>
        <button onclick="setTheme('nature-green')">Nature Green</button>
        <div id="theme-results" class="results">Click a button to test theme switching</div>
    </div>

    <div class="test-box">
        <h2>Document Classes</h2>
        <div id="class-results" class="results">Checking document classes...</div>
    </div>

    <script>
        // Check CSS variables
        function checkCSSVariables() {
            const computed = getComputedStyle(document.documentElement);
            const vars = [
                '--color-primary',
                '--color-background',
                '--color-text',
                '--spacing-md',
                '--radius-md'
            ];
            
            let results = '<strong>CSS Variables:</strong><br>';
            vars.forEach(varName => {
                const value = computed.getPropertyValue(varName);
                results += `${varName}: ${value || 'NOT SET'}<br>`;
            });
            
            document.getElementById('css-results').innerHTML = results;
        }

        // Check localStorage
        function checkLocalStorage() {
            const theme = localStorage.getItem('agendaiq-theme');
            document.getElementById('storage-results').innerHTML = 
                `<strong>localStorage['agendaiq-theme']:</strong> ${theme || 'NOT SET'}`;
        }

        // Check document classes
        function checkDocumentClasses() {
            const classes = document.documentElement.className;
            document.getElementById('class-results').innerHTML = 
                `<strong>Document classes:</strong> ${classes || 'NONE'}`;
        }

        // Set theme
        function setTheme(themeId) {
            localStorage.setItem('agendaiq-theme', themeId);
            document.getElementById('theme-results').innerHTML = 
                `Set theme to: ${themeId}<br>Refresh the page to see changes.`;
            checkLocalStorage();
        }

        // Run checks on load
        window.addEventListener('load', () => {
            checkCSSVariables();
            checkLocalStorage();
            checkDocumentClasses();
            
            // Monitor changes
            setInterval(() => {
                checkCSSVariables();
                checkDocumentClasses();
            }, 2000);
        });
    </script>
</body>
</html>